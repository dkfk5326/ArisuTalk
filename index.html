<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ArisuTalk</title>
    <!-- Temporary transparent icon to prevent 404 errors -->
    <link
      rel="icon"
      href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="static/index.css" />
  </head>

  <body class="bg-gray-950 text-white">
    <div id="app" class="relative flex h-screen overflow-hidden">
      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="fixed inset-y-0 left-0 z-30 flex w-80 flex-col bg-gray-900 transition-transform duration-300 ease-in-out md:relative md:border-r md:border-gray-800"
      >
        <button
          id="desktop-sidebar-toggle"
          class="absolute top-1/2 -translate-y-1/2 -right-4 hidden h-8 w-8 items-center justify-center rounded-full border border-gray-600 bg-gray-700 transition-colors hover:bg-gray-600 md:flex z-20"
        ></button>

        <div
          id="sidebar-content"
          class="flex h-full flex-col overflow-hidden"
        ></div>
      </aside>

      <!-- Main Chat Area -->
      <main id="main-chat" class="flex-1 flex flex-col bg-gray-950"></main>

      <!-- Sidebar Backdrop for Mobile -->
      <div
        id="sidebar-backdrop"
        class="fixed inset-0 z-20 hidden bg-black/50 md:hidden"
      ></div>

      <!-- Modals (JS로 렌더링) -->
      <div id="modal-container"></div>

      <!-- Persistent file input moved outside of the re-rendering main-chat area -->
      <input
        type="file"
        id="image-upload-input"
        class="hidden"
        accept="image/*"
      />
      <input
        type="file"
        id="restore-file-input"
        class="hidden"
        accept="application/json"
      />
      <input
        type="file"
        id="restore-prompts-input"
        class="hidden"
        accept="application/json"
      />
    </div>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>

    <script type="module" src="src/index.js"></script>
  </body>
</html>
